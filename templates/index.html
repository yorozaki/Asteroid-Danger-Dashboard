<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Asteroid Danger Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="app-shell">

        <!-- HEADER -->
        <header class="header">
            <div>
                <h1>Asteroid Danger Dashboard</h1>
                <p class="subtitle">NASA NeoWs — Daily Near-Earth Object Feed</p>
            </div>
            <div class="badge-row">
                <span class="badge badge-live">LIVE</span>
                <span class="badge badge-nasa">NASA</span>
            </div>
        </header>

        <!-- TOP 6 METRICS -->
        <section class="metric-strip">
            <div class="metric-card">
                <div class="metric-label">Name</div>
                <div class="metric-value" id="m-name">{{ featured.name }}</div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Diameter</div>
                <div class="metric-value" id="m-diameter">
                    {{ featured.estimated_diameter.meters.estimated_diameter_min }} –
                    {{ featured.estimated_diameter.meters.estimated_diameter_max }} m
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Speed</div>
                <div class="metric-value" id="m-speed">
                    {{ featured.close_approach_data[0].relative_velocity.kilometers_per_second }} km/s
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Miss Distance</div>
                <div class="metric-value" id="m-miss">
                    {{ featured.close_approach_data[0].miss_distance.kilometers }} km
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Closest Approach</div>
                <div class="metric-value small" id="m-approach">
                    {{ featured.close_approach_data[0].close_approach_date_full }}
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Hazard Level</div>
                <div class="metric-value" id="m-hazard">
                    {{ "Hazardous" if featured.is_potentially_hazardous_asteroid else "Not Hazardous" }}
                </div>
            </div>
        </section>


        <!-- REAL-TIME MAP -->
        <section class="space-section">
            <div class="space-panel">
                <canvas id="spaceCanvas"></canvas>
            </div>

            <div class="timeline-panel">
                <div class="timeline-header">
                    <span>Trajectory Time Warp</span>
                    <span id="time-label">x1.0</span>
                </div>
                <!-- Slider: center position = 1x -->
                <input id="timeSlider" type="range" min="0" max="100" value="50" />
                <p class="countdown" id="countdown"></p>
            </div>
        </section>

        <!-- LIST -->
        <section class="list-section">
            <h2>Today’s Near-Earth Objects</h2>
            <div class="neo-list" id="neo-list"></div>
        </section>
    </div>

    <script>
        const ASTEROID_DATA = {{ asteroids_json| safe }};
    </script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>